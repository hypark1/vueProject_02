{"remainingRequest":"/Users/hypark/project/cdp-admin/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/hypark/project/cdp-admin/src/views/feed/InAdsRegister.vue?vue&type=style&index=0&lang=scss&","dependencies":[{"path":"/Users/hypark/project/cdp-admin/src/views/feed/InAdsRegister.vue","mtime":1581916058172},{"path":"/Users/hypark/project/cdp-admin/node_modules/css-loader/dist/cjs.js","mtime":1573115876168},{"path":"/Users/hypark/project/cdp-admin/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":1573437292219},{"path":"/Users/hypark/project/cdp-admin/node_modules/postcss-loader/src/index.js","mtime":1573115876260},{"path":"/Users/hypark/project/cdp-admin/node_modules/sass-loader/dist/cjs.js","mtime":1573794163685},{"path":"/Users/hypark/project/cdp-admin/node_modules/vuetify-loader/lib/loader.js","mtime":1573794163850},{"path":"/Users/hypark/project/cdp-admin/node_modules/cache-loader/dist/cjs.js","mtime":1573115876135},{"path":"/Users/hypark/project/cdp-admin/node_modules/vue-loader/lib/index.js","mtime":1573437292219}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKLmNrLWVkaXRvcl9fZWRpdGFibGVfaW5saW5lIHsKICBoZWlnaHQ6IDU4NHB4ICFpbXBvcnRhbnQ7CiAgbWluLWhlaWdodDogYXV0bzsKCiAgJiA+IHAgewogICAgbWFyZ2luOiAwOwogICAgZm9udC1zaXplOiAxZW07CiAgICBsaW5lLWhlaWdodDogMS42ZW07CiAgICBwYWRkaW5nLXRvcDogMC4yZW07CiAgfQp9Ci5jay5jay1kcm9wZG93biAuY2stZHJvcGRvd25fX2Fycm93IHsKICB6LWluZGV4OiBhdXRvOwp9CiNlZGl0b3J7CiAgbWluLWhlaWdodDo0MDBweAp9Cg=="},{"version":3,"sources":["InAdsRegister.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAyzBA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"InAdsRegister.vue","sourceRoot":"src/views/feed","sourcesContent":["<template>\n  <v-container\n          id=\"InAdsRegister\"\n          fluid\n          tag=\"section\">\n    <v-row\n            align=\"center\"\n            justify=\"center\">\n      <v-col cols=\"12\">\n        <base-material-card\n                color=\"green\">\n          <template v-slot:heading>\n            <h1 class=\"display-2 font-weight-regular\">\n             아티클 광고 등록\n            </h1>\n          </template>\n          <v-card-text>\n            <v-row justify=\"center\" align=\"center\">\n              <v-col>\n                <v-form v-model=\"vModel.valid\"\n                        ref=\"form\">\n                  <v-row\n                          class=\"text-no-wrap\"\n                          align=\"center\">\n                    <v-col cols=\"12\" class=\"pt-0 pb-0\">\n                      <v-row\n                              align=\"center\">\n                        <v-col cols=\"1\" class=\"text-right grey--text\">\n                          CPC 단가\n                        </v-col>\n                        <v-col cols=\"2\">\n                          <v-text-field\n                                  label=\"CPC 단가\"\n                                  type=\"text\"\n                                  color=\"secondary\"\n                                  v-model=\"unit_price\"\n                                  :rules=\"config.unitRules\"\n                                  ref=\"unit\"\n                                  @blur=\"numberCheck('unit', unit_price)\"\n                                  required />\n                        </v-col>\n                        원\n                      </v-row>\n                    </v-col>\n                  </v-row>\n                  <v-row\n                          class=\"text-no-wrap\"\n                          align=\"center\">\n                    <v-col cols=\"12\" class=\"pt-0 pb-0\">\n                      <v-row\n                              align=\"center\">\n                        <v-col cols=\"1\" class=\"text-right grey--text\">\n                          예산\n                        </v-col>\n                        <v-col cols=\"2\">\n                          <v-text-field\n                                  label=\"예산\"\n                                  type=\"text\"\n                                  color=\"secondary\"\n                                  v-model=\"budget\"\n                                  :rules=\"config.budgetRules\"\n                                  ref=\"budget\"\n                                  @blur=\"numberCheck('budget', budget)\"\n                                  required />\n                        </v-col>\n                        원 (현재 총지출: {{ numReplace(vModel.use_price) }}원)\n                      </v-row>\n                    </v-col>\n                  </v-row>\n                  <v-row\n                          class=\"text-no-wrap\"\n                          align=\"center\">\n                    <v-col cols=\"12\" class=\"pt-0 pb-0\">\n                      <v-row\n                              align=\"center\">\n                        <v-col cols=\"1\" class=\"text-right grey--text\">\n                          1일 예산\n                        </v-col>\n                        <v-col cols=\"2\">\n                          <v-text-field\n                                  label=\"1일 예산\"\n                                  type=\"text\"\n                                  color=\"secondary\"\n                                  v-model=\"daily_budget\"\n                                  :rules=\"config.dailyRules\"\n                                  ref=\"daily\"\n                                  @blur=\"numberCheck('daily', daily_budget)\"\n                                  required />\n                        </v-col>\n                        원 (현재 1일 총지출: {{ numReplace(vModel.daily_use_price) }}원)\n                      </v-row>\n                    </v-col>\n                  </v-row>\n                  <v-row\n                          class=\"text-no-wrap\"\n                          align=\"center\">\n                    <v-col cols=\"6\" class=\"pt-0 pb-0\">\n                      <v-row\n                              align=\"center\">\n                        <v-col cols=\"2\" class=\"text-right grey--text\">\n                          구분\n                        </v-col>\n                        <v-col cols=\"4\">\n                          <v-select\n                                  :items=\"config.typeOptions\"\n                                  v-model=\"vModel.data.ads_type\"\n                                  style=\"height:56px;\"\n                                  label=\"선택\"\n                                  color=\"secondary\"\n                                  :rules=\"config.typeRules\"\n                                  required />\n                        </v-col>\n                      </v-row>\n                    </v-col>\n                  </v-row>\n                  <v-row\n                          class=\"text-no-wrap\"\n                          align=\"center\">\n                    <v-col cols=\"12\" class=\"pt-0 pb-0\">\n                      <v-row\n                              align=\"center\">\n                        <v-col cols=\"1\" class=\"text-right grey--text\">\n                          제목\n                        </v-col>\n                        <v-col>\n                          <v-text-field\n                                  label=\"제목\"\n                                  type=\"text\"\n                                  color=\"secondary\"\n                                  v-model=\"vModel.data.title\"\n                                  :rules=\"config.titleRules\"\n                                  required />\n                        </v-col>\n                      </v-row>\n                    </v-col>\n                  </v-row>\n                  <v-row\n                          class=\"text-no-wrap\"\n                          align=\"center\" v-if=\"vModel.data.type !== 'Video'\">\n                    <v-col cols=\"12\" class=\"pt-0 pb-0\">\n                      <v-row\n                              align=\"center\">\n                        <v-col cols=\"1\" class=\"text-right grey--text\">\n                          요약 내용\n                        </v-col>\n                        <v-col>\n                          <v-textarea\n                                  label=\"요약 내용\"\n                                  color=\"secondary\"\n                                  auto-grow\n                                  rows=\"1\"\n                                  row-height=\"5\"\n                                  no-resize\n                                  v-model=\"vModel.data.sub_title\"\n                                  :rules=\"config.subTitleRules\"\n                                  required />\n                        </v-col>\n                      </v-row>\n                    </v-col>\n                  </v-row>\n                  <v-row\n                          class=\"text-no-wrap\"\n                          align=\"center\">\n                    <v-col cols=\"12\" class=\"pt-0 pb-0\">\n                      <v-row\n                              align=\"center\">\n                        <v-col cols=\"1\" class=\"text-right grey--text\">\n                          URL\n                        </v-col>\n                        <v-col cols=\"2\">\n                          <v-select\n                                  :items=\"config.urlOptions\"\n                                  v-model=\"vModel.data.link_type\"\n                                  label=\"선택\"\n                                  color=\"secondary\"\n                                  :rules=\"config.urlTypeRules\"\n                                  required />\n                        </v-col>\n                        <v-col>\n                          <v-text-field\n                                  label=\"URL 주소\"\n                                  type=\"text\"\n                                  color=\"secondary\"\n                                  v-model=\"vModel.data.url\"\n                                  :rules=\"config.urlRules\"\n                                  required />\n                        </v-col>\n                      </v-row>\n                    </v-col>\n                  </v-row>\n                  <v-row\n                          class=\"text-no-wrap\"\n                          align=\"center\">\n                    <v-col cols=\"6\" class=\"pt-0 pb-0\">\n                      <v-row\n                              align=\"center\">\n                        <v-col cols=\"2\" class=\"text-right grey--text\">\n                          썸네일\n                        </v-col>\n                        <v-col v-if=\"!vModel.data.thumbnail_url || response.routeName === 'feedInAdsRegister'\">\n                          <v-file-input v-model=\"thumbnail_url\" label=\"파일 첨부\"></v-file-input>\n                        </v-col>\n                        <template v-else>\n                          <v-col cols=\"9\">\n                            <v-text-field\n                                    label=\"파일 첨부\"\n                                    type=\"text\"\n                                    color=\"secondary\"\n                                    v-model=\"vModel.data.thumbnail_url\"\n                                    disabled/>\n                          </v-col>\n                          <div @click=\"thumbnailClose()\" style=\"cursor: pointer;\">X</div>\n                        </template>\n                      </v-row>\n                    </v-col>\n                    <v-col cols=\"6\" class=\"pt-0 pb-0\">\n                      <v-row\n                              align=\"center\">\n                        <v-col cols=\"2\" class=\"text-right grey--text\">\n                          랜딩 페이지\n                        </v-col>\n                        <v-col v-if=\"!vModel.data.landing_file || response.landingVal\">\n                          <v-file-input v-model=\"landing_file\" label=\"랜딩 페이지 파일 첨부\"></v-file-input>\n                        </v-col>\n                        <template v-else>\n                          <v-col cols=\"9\">\n                            <v-text-field\n                                    label=\"랜딩 페이지 파일 첨부\"\n                                    type=\"text\"\n                                    color=\"secondary\"\n                                    v-model=\"vModel.data.landing_file\"\n                                    disabled/>\n                          </v-col>\n                          <div @click=\"landingFileClose()\" style=\"cursor: pointer;\">X</div>\n                        </template>\n                      </v-row>\n                    </v-col>\n                  </v-row>\n                  <v-row\n                          class=\"text-no-wrap\"\n                          align=\"center\">\n                    <v-col cols=\"12\" class=\"pt-0 pb-0\">\n                      <v-row\n                              align=\"center\">\n                        <v-col cols=\"1\" class=\"text-right grey--text\">\n                          태그\n                        </v-col>\n                        <v-col>\n                          <v-text-field\n                                  label=\"태그\"\n                                  hint=\", 로 구분해 주세요.\"\n                                  type=\"text\"\n                                  color=\"secondary\"\n                                  v-model=\"vModel.data.tags\"\n                                  :rules=\"config.tagRules\"\n                                  required />\n                        </v-col>\n                      </v-row>\n                    </v-col>\n                  </v-row>\n                  <v-row\n                          class=\"text-no-wrap\"\n                          align=\"center\">\n                    <v-col cols=\"6\" class=\"pt-0 pb-0\">\n                      <v-row align=\"center\">\n                        <v-col cols=\"2\" class=\"text-right grey--text\">\n                          게재 기간\n                        </v-col>\n                        <v-col>\n                          <v-row align=\"center\">\n                            <v-col cols=\"4\">\n                              <v-menu\n                                      ref=\"menu1\"\n                                      v-model=\"datePicker.start.menu\"\n                                      :close-on-content-click=\"false\"\n                                      :return-value.sync=\"datePicker.start.date\"\n                                      transition=\"scale-transition\"\n                                      min-width=\"290px\"\n                                      offset-y >\n                                <template v-slot:activator=\"{ on }\">\n                                  <v-text-field\n                                          v-model=\"datePicker.start.date\"\n                                          color=\"secondary\"\n                                          label=\"Start date\"\n                                          prepend-icon=\"mdi-calendar-outline\"\n                                          readonly\n                                          v-on=\"on\" />\n                                </template>\n\n                                <v-date-picker\n                                        v-model=\"datePicker.start.date\"\n                                        color=\"secondary\"\n                                        landscape\n                                        scrollable >\n                                  <v-spacer />\n                                  <v-btn\n                                          color=\"secondary\"\n                                          @click=\"datePicker.start.menu = false\" >\n                                    Cancel\n                                  </v-btn>\n\n                                  <v-btn\n                                          color=\"secondary\"\n                                          @click=\"$refs.menu1.save(datePicker.start.date)\" >\n                                    OK\n                                  </v-btn>\n                                </v-date-picker>\n                              </v-menu>\n                            </v-col>\n                            <span>-</span>\n                            <v-col cols=\"4\">\n                              <v-menu\n                                      ref=\"menu2\"\n                                      v-model=\"datePicker.end.menu\"\n                                      :close-on-content-click=\"false\"\n                                      :return-value.sync=\"datePicker.end.date\"\n                                      transition=\"scale-transition\"\n                                      min-width=\"290px\"\n                                      offset-y >\n                                <template v-slot:activator=\"{ on }\">\n                                  <v-text-field\n                                          v-model=\"datePicker.end.date\"\n                                          color=\"secondary\"\n                                          label=\"End date\"\n                                          prepend-icon=\"mdi-calendar-outline\"\n                                          readonly\n                                          v-on=\"on\" />\n                                </template>\n\n                                <v-date-picker\n                                        v-model=\"datePicker.end.date\"\n                                        color=\"secondary\"\n                                        landscape\n                                        scrollable >\n                                  <v-spacer />\n                                  <v-btn\n                                          color=\"secondary\"\n                                          @click=\"datePicker.end.menu = false\" >\n                                    Cancel\n                                  </v-btn>\n\n                                  <v-btn\n                                          color=\"secondary\"\n                                          @click=\"$refs.menu2.save(datePicker.end.date)\" >\n                                    OK\n                                  </v-btn>\n                                </v-date-picker>\n                              </v-menu>\n                            </v-col>\n                          </v-row>\n                        </v-col>\n                      </v-row>\n                    </v-col>\n                  </v-row>\n                  <v-row>\n                    <v-col cols=\"12\">\n                      <vue-editor id=\"editor\"\n                                  v-model=\"vModel.data.contents\"\n                                  :editorToolbar=\"customToolbar\"\n                                  useCustomImageHandler\n                                  @image-added=\"handleImageAdded\"></vue-editor>\n                    </v-col>\n                  </v-row>\n                </v-form>\n              </v-col>\n            </v-row>\n            <v-row justify=\"center\">\n              <v-btn color=\"default\"\n                     @click=\"beforePage()\">\n                취소\n              </v-btn>\n              <template v-if=\"this.response.routeName === 'feedInAdsView'\">\n                <v-btn :disabled=\"!vModel.valid\"\n                       color=\"warning\"\n                       @click=\"adsRegister('edit')\">\n                  수정\n                </v-btn>\n              </template>\n              <template v-if=\"this.response.routeName === 'feedInAdsRegister'\">\n                <v-btn :disabled=\"!vModel.valid\"\n                       color=\"warning\"\n                       @click=\"adsRegister('create')\">\n                  등록\n                </v-btn>\n              </template>\n            </v-row>\n          </v-card-text>\n        </base-material-card>\n      </v-col>\n    </v-row>\n      <base-material-snackbar\n              v-model=\"vModel.snackbar\"\n              :type=\"vModel.snackbarType\"\n              v-bind=\"{\n        'top': true,\n        'right': true\n      }\">\n          <span style=\"display:block;width:300px;margin:0;\">{{vModel.errorMessage}}</span>\n      </base-material-snackbar>\n  </v-container>\n</template>\n\n<script>\nimport { mapActions } from 'vuex'\nimport { VueEditor } from 'vue2-editor'\n\nexport default {\n  components: {\n    VueEditor\n  },\n  created () {\n    this.refresh()\n  },\n  data () {\n    return {\n      customToolbar: [\n        [{ 'font': [] }],\n        [{ 'header': [ false, 1, 2, 3, 4, 5, 6, ] }],\n        // [{ 'size': ['small', false, 'large', 'huge'] }],\n        ['bold', 'italic', 'underline', 'strike'],\n        [{ 'align': '' }, { 'align': 'center' }, { 'align': 'right' }, { 'align': 'justify' }],\n        [{ 'header': 1 }, { 'header': 2 }],\n        ['blockquote', 'code-block'],\n        [{ 'list': 'ordered' }, { 'list': 'bullet' }, { 'list': 'check' }],\n        [{ 'script': 'sub' }, { 'script': 'super' }],\n        [{ 'indent': '-1' }, { 'indent': '+1' }],\n        [{ 'color': [] }, { 'background': [] }],\n        ['link', 'image'],\n        // ['link', 'image', 'video', 'formula'],\n        [{ 'direction': 'rtl' }],\n        // ['clean'],\n      ],\n      response: {\n        routeName: this.$route.name,\n        view: null,\n        landingVal: true,\n        thumbnailVal: true,\n        adsEdit: null,\n        adsCreate: null,\n        image: [],\n      },\n      vModel: {\n        snackbar: false,\n        snackbarType: 'warning',\n        errorMessage: null,\n        valid: true,\n        contents: null,\n        data: {\n          writer: JSON.parse(localStorage.getItem('cdpUser')).name,\n          unit_price: null,\n          budget: null,\n          daily_budget: null,\n          ads_type: null,\n          title: null,\n          sub_title: null,\n          link_type: null,\n          url: null,\n          contents: '',\n          tags: null,\n          landing_file: null,\n          thumbnail_url: null,\n        }\n      },\n      use_price: 0,\n      daily_use_price: 0,\n      unit_price: null,\n      budget: null,\n      daily_budget: null,\n      thumbnail_url: null,\n      landing_file: null,\n      datePicker: {\n        start: {\n          date: '',\n          menu: false\n        },\n        end: {\n          date: '',\n          menu: false\n        }\n      },\n      config: {\n        typeOptions: [\n          { value: 'outlink', text: '네이티브 광고' },\n          { value: 'native', text: '네이티브 아티클 광고' },\n        ],\n        urlOptions: [\n          { value: '_self', text: 'inlink' },\n          { value: '_blank', text: 'outlink' },\n        ],\n        unitRules: [v => !!v || 'CPC 단가를 입력하세요.'],\n        budgetRules: [ v => !!v || '예산을 입력하세요.' ],\n        dailyRules: [ v => !!v || '1일 예산을 입력하세요.' ],\n        typeRules: [ v => !!v || '구분을 선택하세요.' ],\n        titleRules: [ v => !!v || '제목을 입력하세요.' ],\n        urlRules: [ v => !!v || 'url을 입력하세요.' ],\n        urlTypeRules: [ v => !!v || 'url 설정을 선택하세요.' ],\n        textRules: [ v => !!v || '요약 내용을 입력하세요.' ],\n        tagRules: [ v => !!v || '태그를 ,로 구분하여 입력하세요.' ],\n        landingRules: [ v => !!v || '랜딩 페이지를 선택하세요.' ],\n      }\n    }\n  },\n  methods: {\n    ...mapActions(['xhttp']),\n    snack (type, val) {\n      this.vModel.errorMessage = val\n      this.vModel.snackbarType = type\n      this.vModel.snackbar = true\n    },\n    refresh () {\n      if (this.response.routeName === 'feedInAdsView') {\n        this.adsView()\n      }\n    },\n    beforePage () {\n      this.$router.go(-1)\n    },\n    landingFileClose () {\n      this.vModel.data.landing_file = null\n      this.response.landingVal = true\n    },\n    thumbnailClose () {\n      this.vModel.data.thumbnail_url = null\n      this.response.thumbnailVal = true\n    },\n    tagChange (val) {\n      let text = this.vModel.data.contents\n      let div = document.createElement('div')\n      div.innerHTML = text\n      let img = div.querySelectorAll('img')\n      let h5 = div.querySelectorAll('h5')\n      let arr = []\n      for (let j = 0; j < h5.length; j++) {\n        let a2 = h5[j].getAttribute('class')\n        if (a2.indexOf('figcaption') !== -1) {\n          let text2 = h5[j].innerText\n          arr.push(text2)\n          h5[j].remove()\n        }\n      }\n      for (let i = 0; i < img.length; i++) {\n        if (img[i].parentNode.getAttribute('href')) {\n          let a = img[i].parentNode.parentNode.outerHTML\n          let aaa = a.replace(/(<p)(.+?)(<\\s?\\/\\s?p>)/, '<figure$2</figure>')\n          div.querySelectorAll('img')[i].parentNode.parentNode.outerHTML = aaa\n          let b = div.querySelectorAll('img')[i].parentNode.parentNode.innerHTML\n          if (arr.length > 0) {\n            b += '<figcaption>' + arr[i] + '</figcaption>'\n          }\n          div.querySelectorAll('img')[i].parentNode.parentNode.innerHTML = b\n        } else {\n          let a = img[i].parentNode.outerHTML\n          let aaa = a.replace(/(<p)(.+?)(<\\s?\\/\\s?p>)/, '<figure$2</figure>')\n          div.querySelectorAll('img')[i].parentNode.outerHTML = aaa\n          let b = div.querySelectorAll('img')[i].parentNode.innerHTML\n          if (arr.length > 0) {\n            b += '<figcaption>' + arr[i] + '</figcaption>'\n          }\n          div.querySelectorAll('img')[i].parentNode.innerHTML = b\n        }\n      }\n      this.vModel.contents = div.innerHTML\n      if (val === 'create') {\n        this.putArticle()\n      } else {\n        this.adsEdit()\n      }\n    },\n    handleImageAdded (file, Editor, cursorLocation, resetUploader) {\n      // An example of using FormData\n      // NOTE: Your key could be different such as:\n      // formData.append('file', file)\n\n      let formData = new FormData()\n      formData.append('upload', file)\n      this.xhttp({\n        url: '/contents/file-upload',\n        method: 'post',\n        data: formData\n      }).then((response) => {\n        if (response.status === 200) {\n          let src = response.data.link\n          Editor.insertEmbed(cursorLocation, 'image', src)\n          let div = document.createElement('div')\n          div.innerHTML = document.querySelector('.ql-editor').innerHTML\n          let img = div.querySelectorAll('img')\n          for (let i = 0; i < img.length; i++) {\n            if (img[i].src === 'http:' + src) {\n              let dd = div.querySelectorAll('img')[i].parentNode.innerHTML\n              dd += '<h5 class=\"figcaption\">Image Caption</h5>'\n              div.querySelectorAll('img')[i].parentNode.innerHTML = dd\n              document.querySelector('.ql-editor').innerHTML = div.querySelectorAll('img')[i].parentNode.parentNode.innerHTML\n            }\n          }\n        }\n      }).catch((error) => {\n        if (error.message === 'Request failed with status code 401') {\n          this.$router.push({ 'name': 'UserLogin' })\n        } else {\n          this.snack('warning', '관리자에게 문의 바랍니다.')\n        }\n      })\n    },\n    numReplace (val) {\n      let num = val + ''\n      num = num.split('.')\n      let result = num[0].replace(/\\D/g, '').replace(/\\B(?=(\\d{3})+(?!\\d))/g, ',')\n      if (num[1]) {\n        result += '.' + num[1]\n      }\n      return result\n    },\n    numberCheck (type, val) {\n      let point = Number(val.replace(/,/g, ''))\n      if (isNaN(point)) {\n        // 문자포함\n        this.snack('warning', '숫자만 입력하세요.')\n        if (type === 'unit') {\n          this.$refs.unit.focus()\n        } else if (type === 'budget') {\n          this.$refs.budget.focus()\n        } else if (type === 'daily') {\n          this.$refs.daily.focus()\n        }\n      }\n    },\n    adsView () {\n      this.xhttp({\n        url: '/article/' + this.$route.params.article_id,\n        method: 'get',\n        params: null\n      }).then((response) => {\n        if (response.status === 200) {\n          this.response.view = response.data.data\n          this.vModel.data = this.response.view.data[0]\n          if (this.vModel.data.landing_file) {\n            this.response.landingVal = false\n          }\n          if (this.vModel.data.thumbnail_url) {\n            this.response.thumbnailVal = false\n          }\n          if (this.vModel.data.unit_price) {\n            this.unit_price = this.vModel.data.unit_price\n            this.budget = this.vModel.data.budget\n            this.daily_budget = this.vModel.data.daily_budget\n          }\n          if (this.vModel.data.start_date) {\n            this.datePicker.start.date = this.$moment(this.vModel.data.start_date.slice(0, 10)).format('YYYY-MM-DD')\n          }\n          if (this.vModel.data.end_date) {\n            this.datePicker.end.date = this.$moment(this.vModel.data.end_date.slice(0, 10)).format('YYYY-MM-DD')\n          }\n          if (this.vModel.data.use_price) {\n            this.vModel.use_price = this.vModel.data.use_price\n          }\n          if (this.vModel.data.daily_use_price) {\n            this.vModel.daily_use_price = this.vModel.data.daily_use_price\n          }\n          let text = this.response.view.data[0].contents\n          let div = document.createElement('div')\n          div.innerHTML = text\n          let img = div.querySelectorAll('img')\n          for (let i = 0; i < img.length; i++) {\n            if (img[i].parentNode.getAttribute('href')) {\n              let a = img[i].parentNode.parentNode.outerHTML\n              let aaa = a.replace(/(<figure)(.+?)(<\\s?\\/\\s?figure>)/, '<p$2</p>')\n              div.querySelectorAll('img')[i].parentNode.parentNode.outerHTML = aaa\n            } else {\n              let a = img[i].parentNode.outerHTML\n              let aaa = a.replace(/(<figure)(.+?)(<\\s?\\/\\s?figure>)/, '<p$2</p>')\n              div.querySelectorAll('img')[i].parentNode.outerHTML = aaa\n            }\n          }\n          let h5 = div.querySelectorAll('figcaption')\n          for (let i = 0; i < h5.length; i++) {\n            div.querySelectorAll('figcaption')[0].outerHTML = div.querySelectorAll('figcaption')[0].outerHTML.replace(/(<figcaption)(.+?)(<\\s?\\/\\s?figcaption>)/, '<h5 class=\"figcaption\"$2</h5>')\n          }\n          this.vModel.data.contents = div.innerHTML\n        }\n      }).catch((error) => {\n        if (error.message === 'Request failed with status code 401') {\n          this.$router.push({ 'name': 'UserLogin' })\n        } else {\n          this.snack('warning', '관리자에게 문의 바랍니다.')\n        }\n      })\n    },\n    adsEdit () {\n      let send = this.vModel.data\n      send.contents = this.vModel.contents\n      this.xhttp({\n        url: '/article/' + this.$route.params.article_id,\n        method: 'put',\n        data: send\n      }).then((response) => {\n        if (response.status === 200) {\n          this.response.adsEdit = response.data.data\n          this.snack('success', '수정 완료되었습니다.')\n          this.beforePage()\n        }\n      }).catch((error) => {\n        if (error.message === 'Request failed with status code 401') {\n          this.$router.push({ 'name': 'UserLogin' })\n        } else {\n          this.snack('warning', '관리자에게 문의 바랍니다.')\n        }\n      })\n    },\n    adsRegister (val) {\n      if (this.$refs.form.validate()) {\n        let message = '등록 하시겠습니까?'\n        if (val === 'edit') {\n          message = '수정 하시겠습니까?'\n        }\n        if (confirm(message)) {\n          this.tagChange(val)\n        }\n      }\n    },\n    landingFile () {\n      let formData = new FormData()\n      formData.append('upload', this.landing_file)\n      this.xhttp({\n        url: '/article/file/upload',\n        method: 'post',\n        data: formData\n      }).then((response) => {\n        if (response.status === 200) {\n          this.vModel.data.landing_file = response.data.data\n        }\n      }).catch((error) => {\n        if (error.message === 'Request failed with status code 401') {\n          this.$router.push({ 'name': 'UserLogin' })\n        } else {\n          this.snack('warning', '관리자에게 문의 바랍니다.')\n        }\n      })\n    },\n    putArticle () {\n      let send = this.vModel.data\n      send.contents = this.vModel.contents\n      this.xhttp({\n        url: '/' + this.$route.params.media_id + '/article',\n        method: 'post',\n        data: send\n      }).then((response) => {\n        if (response.status === 200) {\n          this.response.adsCreate = response.data.data\n          this.snack('success', '등록 완료되었습니다.')\n          this.$router.push({ 'name': 'feedInAds', query: { media: this.$route.params.media_id } })\n        }\n      }).catch((error) => {\n        if (error.message === 'Request failed with status code 401') {\n          this.$router.push({ 'name': 'UserLogin' })\n        } else {\n          this.snack('warning', '관리자에게 문의 바랍니다.')\n        }\n      })\n    }\n  },\n  watch: {\n    landing_file: function (val) {\n      this.landingFile()\n    },\n    datePicker: {\n      handler (val) {\n        if (val.start.date) {\n          this.vModel.data.start_date = val.start.date\n        }\n        if (val.end.date) {\n          this.vModel.data.end_date = val.end.date\n        }\n      },\n      deep: true\n    },\n    unit_price: function (val) {\n      if (val) {\n        let point = Number(val.replace(/,/g, ''))\n        if (isNaN(point) === false) {\n          // 숫자\n          const result = val.replace(/\\D/g, '')\n            .replace(/\\B(?=(\\d{3})+(?!\\d))/g, ',')\n          this.unit_price = result\n          this.vModel.data.unit_price = point\n        } else {\n          // 문자포함\n          this.snack('warning', '숫자만 입력하세요.')\n        }\n      }\n    },\n    budget: function (val) {\n      if (val) {\n        let point = Number(val.replace(/,/g, ''))\n        if (isNaN(point) === false) {\n          // 숫자\n          const result = val.replace(/\\D/g, '')\n            .replace(/\\B(?=(\\d{3})+(?!\\d))/g, ',')\n          this.budget = result\n          this.vModel.data.budget = point\n        } else {\n          // 문자포함\n          this.snack('warning', '숫자만 입력하세요.')\n        }\n      }\n    },\n    daily_budget: function (val) {\n      if (val) {\n        let point = Number(val.replace(/,/g, ''))\n        if (isNaN(point) === false) {\n          // 숫자\n          const result = val.replace(/\\D/g, '')\n            .replace(/\\B(?=(\\d{3})+(?!\\d))/g, ',')\n          this.daily_budget = result\n          this.vModel.data.daily_budget = point\n        } else {\n          // 문자포함\n          this.snack('warning', '숫자만 입력하세요.')\n        }\n      }\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\">\n  .ck-editor__editable_inline {\n    height: 584px !important;\n    min-height: auto;\n\n    & > p {\n      margin: 0;\n      font-size: 1em;\n      line-height: 1.6em;\n      padding-top: 0.2em;\n    }\n  }\n  .ck.ck-dropdown .ck-dropdown__arrow {\n    z-index: auto;\n  }\n  #editor{\n    min-height:400px\n  }\n</style>\n"]}]}